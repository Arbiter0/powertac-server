<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/layouts/visualizer/master.xhtml">

	<ui:define name="title">Wholesale market</ui:define>

	<ui:define name="headIncludes">

		<script type="text/javascript">
			
		</script>

	</ui:define>

	<ui:define name="content">

		<p:panel>
			<h:form id="form">
			
				
				 <p:outputPanel id="documentPanel">
						<h:panelGrid columns="2" cellpadding="5"
							rendered="#{not empty wholesaleBean.selectedNode}">
							<h:outputText id="name"
								value="#{wholesaleBean.selectedNode.data.name}"
								style="font-weight:bold" />

							<h:outputText id="type"
								value="#{wholesaleBean.selectedNode.data.type}"
								style="font-weight:bold" />

							<h:outputText id="ttq"
								value="#{wholesaleBean.selectedNode.data.totalTradedQuantity}"
								style="font-weight:bold" />
						</h:panelGrid> 
						
					</p:outputPanel>
			
				<p:treeTable value="#{visualizerBean.wholesaleModel.root}"
					var="document" selection="#{wholesaleBean.selectedNode}"
					selectionMode="single">

					<f:facet name="header">  
            Wholesale  
        </f:facet>

					<p:column style="width:150px">
						<f:facet name="header">  
                Name  
            </f:facet>
						<h:outputText value="#{document.name}" />
					</p:column>

					<p:column style="width:100px">
						<f:facet name="header">  
                Type  
            </f:facet>
						<h:outputText value="#{document.type}" />
					</p:column>

					<p:column style="width:100px">
						<f:facet name="header">  
                Total traded quantity (MWh):  
            </f:facet>
						<h:outputText value="#{document.totalTradedQuantity}" />
					</p:column>

					<f:facet name="footer">
						<p:commandButton value="View" icon="ui-icon-search"
							update=":form:documentPanel" />
					</f:facet>
				</p:treeTable>
				
					
				
			

			</h:form>
		</p:panel>

	</ui:define>

</ui:composition>