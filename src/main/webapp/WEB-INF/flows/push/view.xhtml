<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/layouts/visualizer/master.xhtml">

	<!-- <ui:define name="title">Customers</ui:define> -->

	<ui:define name="headInclude">
	
	
	<h:outputScript library="js" name="MetroJs.js"/>
	<h:outputStylesheet library="css" name="MetroJs.css"/>
	
	
	
		<script type="text/javascript">
			function handleMessage(data) {
				$('.display1').html(data);
			}
			
			
		</script>
		
		<script type="text/javascript">
			function handleBrokersMessage(data) {
				$('.display1').html(data);
			}
		</script>


			<script type="text/javascript">
			var chart;
		</script>
	

	</ui:define>

	<ui:define name="content">
		<h:body>
		
	<h1>FlipList Simple</h1>
<div class="mango">
    <div class="list-tile">
        <span class="tile-title">flip list</span>
        <ul id="flip1" class="flip-list fourTiles" data-initdelay="500" data-mode="flip-list" data-delay="3000">
            <li>
                <div class="myClass"><!-- Put images or other content here --></div>
                <div>LOLEMBE</div>
            </li>
            <li>
                <div class="myClass"><!-- Put images or other content here --></div>
                <div><!-- Put images or other content here --></div>
            </li>
            <li>
                <div class="myClass"><!-- Put images or other content here --></div>
                <div><!-- Put images or other content here --></div>
            </li>
            <li data-direction="horizontal">
                <div class="myClass"><!-- Put images or other content here --></div>
                <div><!-- Put images or other content here --></div>
            </li>
        </ul>
    </div>
</div>

<script type="text/javascript">
//flip-list simple
//using data attributes
$(".flip-list").liveTile();
//without data-attributes
//$("#flip1").liveTile({ delay:3000, initDelay:500, mode:'flip-list' });
</script>
		

			<h:form>
				<h:outputText value="#{globalCounterBean.count}" styleClass="display1" />
				<p:commandButton value="Click"
					actionListener="#{globalCounterBean.increment}" />
			</h:form>
						
			<p:socket onMessage="handleBrokersMessage" channel="/tariffpush" />
					
			 <div id="container" style="width: 700px; height: 400px; margin: 0 auto"></div>
			 
			 <div id="recentClearingsContainter" style="width: 700px; height: 400px; margin: 0 auto"></div>
			 
			 <script type="text/javascript">
			
			 
			 $(document).ready(function() {

					Highcharts.setOptions({
						global : {
							useUTC : true
						}
					});
					
					// Create the chart
					var recentClearingsVar = new Highcharts.StockChart({
						chart : {
							renderTo : 'recentClearingsContainter',
							alignTicks: false
										
						},
						plotLines: [{
							value: 0,
							width: 1,
							color: '#808080'
						}],
						yAxis: [{
					        title: {
					            text: 'Temperature(Â°C)'
					        },
					        height: 140,
					        lineWidth: 2
					    }, {
					        title: {
					            text: 'Wind speed (m/s)'
					        },
					        top: 230,
					        height: 150,
					        offset: 0,
					        lineWidth: 2,
					       // opposite: true
					    }],
						
						rangeSelector: {
							buttons: [{
								count: 1,
								type: 'hour',
								text: '1H'
							}, {
								count: 1,
								type: 'day',
								text: '1D'
							},{
								count: 1,
								type: 'week',
								text: '1W'
							},
							{
								count: 2,
								type: 'week',
								text: '2W'
							},
							{
								count: 1,
								type: 'month',
								text: '1M'
							},
							{
								type: 'all',
								text: 'All'
							}],
							inputEnabled: true,
							selected: 5
						},
						
						title : {
							text : 'Most recent clearings'
						},
						
						exporting: {
							enabled: true
						},
						tooltip: {
							yDecimals : 2
						},
						
						series : [{
					        name: 'Energy(MWh)',
					        data: #{wholesaleBean.energyMostRecentClearingsJson}
					    }, {
					        name: 'Cash (euros)',
					        data: #{wholesaleBean.cashMostRecentClearingsJson},
					        yAxis: 1					       
					    }
					    ]
						
					});   
				
				});

</script>


		</h:body>





	</ui:define>

</ui:composition>